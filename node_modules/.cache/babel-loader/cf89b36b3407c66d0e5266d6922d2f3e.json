{"ast":null,"code":"import _slicedToArray from \"/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/src/components/DoggoApp.js\";\nimport React, { useState, useEffect } from 'react';\nimport DoggoList from './DoggoList';\nimport RegisterButton from './RegisterButton.js';\nimport axios from 'axios'; // function DoggoApp () {\n//   const [doggoData, setDoggoData] = useState ({data: []});\n//   useEffect (() => {\n//     const fetchData = async () => {\n//       const result = await axios (\n//         'https://dogfair.herokuapp.com/api/license_registrations'\n//       );\n//       setDoggoData (result.data);\n//     };\n//     fetchData ();\n//   }, []);\n//   return (\n//     <div\n//       className=\"container\"\n//       style={{paddingTop: '1em', paddingBottom: '1em'}}\n//     >\n//       <RegisterButton btnName=\"Register a new doggo\" btnColor=\"is-info\" />\n//       {doggoData.data.map (doggo => (\n//         <DoggoList\n//           key={doggo.id}\n//           doggoName={doggo.name}\n//           doggoAge={doggo.age}\n//           doggoId={doggo.doggo_id.first + '...' + doggo.doggo_id.last}\n//           doggoDescription={doggo.description}\n//         />\n//       ))}\n//     </div>\n//   );\n// }\n// export default DoggoApp;\n\nfunction useEndpoint(req) {\n  const _useState = useState({\n    data: null,\n    complete: false,\n    pending: false,\n    error: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        res = _useState2[0],\n        setRes = _useState2[1];\n\n  useEffect(() => {\n    setRes({\n      data: null,\n      pending: true,\n      error: false,\n      complete: false\n    });\n    axios(req).then(res => setRes({\n      data: res.data,\n      pending: false,\n      error: false,\n      complete: true\n    })).catch(() => setRes({\n      data: null,\n      pending: false,\n      error: true,\n      complete: true\n    }));\n  }, [req.url]);\n  return res;\n}\n\nexport default function DoggoApp() {\n  const todosApi = \"https://dogfair.herokuapp.com/api/license_registrations\";\n  const todo = useEndpoint({\n    method: \"GET\",\n    url: `${todosApi}`\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, todo.map(doggo => React.createElement(DoggoList, {\n    key: doggo.id,\n    doggoName: doggo.name,\n    doggoAge: doggo.age,\n    doggoId: doggo.doggo_id.first + '...' + doggo.doggo_id.last,\n    doggoDescription: doggo.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/src/components/DoggoApp.js"],"names":["React","useState","useEffect","DoggoList","RegisterButton","axios","useEndpoint","req","data","complete","pending","error","res","setRes","then","catch","url","DoggoApp","todosApi","todo","method","map","doggo","id","name","age","doggo_id","first","last","description"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AAAA,oBACFN,QAAQ,CAAC;AAC7BO,IAAAA,IAAI,EAAE,IADuB;AAE7BC,IAAAA,QAAQ,EAAE,KAFmB;AAG7BC,IAAAA,OAAO,EAAE,KAHoB;AAI7BC,IAAAA,KAAK,EAAE;AAJsB,GAAD,CADN;AAAA;AAAA,QACjBC,GADiB;AAAA,QACZC,MADY;;AAQ1BX,EAAAA,SAAS,CACL,MAAM;AACJW,IAAAA,MAAM,CAAC;AACLL,MAAAA,IAAI,EAAE,IADD;AAELE,MAAAA,OAAO,EAAE,IAFJ;AAGLC,MAAAA,KAAK,EAAE,KAHF;AAILF,MAAAA,QAAQ,EAAE;AAJL,KAAD,CAAN;AAMAJ,IAAAA,KAAK,CAACE,GAAD,CAAL,CACGO,IADH,CACQF,GAAG,IACPC,MAAM,CAAC;AACLL,MAAAA,IAAI,EAAEI,GAAG,CAACJ,IADL;AAELE,MAAAA,OAAO,EAAE,KAFJ;AAGLC,MAAAA,KAAK,EAAE,KAHF;AAILF,MAAAA,QAAQ,EAAE;AAJL,KAAD,CAFV,EASGM,KATH,CASS,MACLF,MAAM,CAAC;AACLL,MAAAA,IAAI,EAAE,IADD;AAELE,MAAAA,OAAO,EAAE,KAFJ;AAGLC,MAAAA,KAAK,EAAE,IAHF;AAILF,MAAAA,QAAQ,EAAE;AAJL,KAAD,CAVV;AAiBD,GAzBI,EA0BL,CAACF,GAAG,CAACS,GAAL,CA1BK,CAAT;AA4BA,SAAOJ,GAAP;AACC;;AACD,eAAe,SAASK,QAAT,GAAoB;AACjC,QAAMC,QAAQ,GAAG,yDAAjB;AACA,QAAMC,IAAI,GAAGb,WAAW,CAAC;AACvBc,IAAAA,MAAM,EAAE,KADe;AAEvBJ,IAAAA,GAAG,EAAG,GAAEE,QAAS;AAFM,GAAD,CAAxB;AAIF,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCC,IAAI,CAACE,GAAL,CAAUC,KAAK,IACd,oBAAC,SAAD;AACE,IAAA,GAAG,EAAEA,KAAK,CAACC,EADb;AAEE,IAAA,SAAS,EAAED,KAAK,CAACE,IAFnB;AAGE,IAAA,QAAQ,EAAEF,KAAK,CAACG,GAHlB;AAIE,IAAA,OAAO,EAAEH,KAAK,CAACI,QAAN,CAAeC,KAAf,GAAuB,KAAvB,GAA+BL,KAAK,CAACI,QAAN,CAAeE,IAJzD;AAKE,IAAA,gBAAgB,EAAEN,KAAK,CAACO,WAL1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CADF,CADJ;AAeC","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport DoggoList from './DoggoList';\nimport RegisterButton from './RegisterButton.js';\nimport axios from 'axios';\n\n// function DoggoApp () {\n//   const [doggoData, setDoggoData] = useState ({data: []});\n\n//   useEffect (() => {\n//     const fetchData = async () => {\n//       const result = await axios (\n//         'https://dogfair.herokuapp.com/api/license_registrations'\n//       );\n//       setDoggoData (result.data);\n//     };\n//     fetchData ();\n//   }, []);\n\n//   return (\n//     <div\n//       className=\"container\"\n//       style={{paddingTop: '1em', paddingBottom: '1em'}}\n//     >\n//       <RegisterButton btnName=\"Register a new doggo\" btnColor=\"is-info\" />\n\n//       {doggoData.data.map (doggo => (\n//         <DoggoList\n//           key={doggo.id}\n//           doggoName={doggo.name}\n//           doggoAge={doggo.age}\n//           doggoId={doggo.doggo_id.first + '...' + doggo.doggo_id.last}\n//           doggoDescription={doggo.description}\n//         />\n//       ))}\n\n//     </div>\n//   );\n// }\n\n// export default DoggoApp;\n\nfunction useEndpoint(req) {\n  const [res, setRes] = useState({\n    data: null,\n    complete: false,\n    pending: false,\n    error: false\n  });\n\nuseEffect(\n    () => {\n      setRes({\n        data: null,\n        pending: true,\n        error: false,\n        complete: false\n      });\n      axios(req)\n        .then(res =>\n          setRes({\n            data: res.data,\n            pending: false,\n            error: false,\n            complete: true\n          }),\n        )\n        .catch(() =>\n          setRes({\n            data: null,\n            pending: false,\n            error: true,\n            complete: true\n          }),\n        );\n    },\n    [req.url]\n  );\nreturn res;\n}\nexport default function DoggoApp() {\n  const todosApi = \"https://dogfair.herokuapp.com/api/license_registrations\";\n  const todo = useEndpoint({\n    method: \"GET\",\n    url: `${todosApi}`\n  });\nreturn (\n    <div>\n      <div>\n      {todo.map (doggo => (\n        <DoggoList\n          key={doggo.id}\n          doggoName={doggo.name}\n          doggoAge={doggo.age}\n          doggoId={doggo.doggo_id.first + '...' + doggo.doggo_id.last}\n          doggoDescription={doggo.description}\n        />\n      ))}\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}