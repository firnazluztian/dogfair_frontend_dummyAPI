{"ast":null,"code":"import _objectSpread from \"/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/src/components/Registration.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nconst apiUrl = 'https://dogfair.herokuapp.com/api/license_registrations';\n\nfunction Registration(props) {\n  const _useForm = useForm(),\n        handleSubmit = _useForm.handleSubmit,\n        register = _useForm.register,\n        errors = _useForm.errors;\n\n  const _useState = useState({\n    id: '',\n    name: '',\n    description: '',\n    age: 0,\n    doggo_id: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        product = _useState2[0],\n        setProduct = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showLoading = _useState4[0],\n        setShowLoading = _useState4[1];\n\n  const saveProduct = e => {\n    setShowLoading(true);\n    e.preventDefault();\n    const data = {\n      name: product.name,\n      description: product.description,\n      age: parseInt(product.age),\n      doggo_id: product.doggo_id\n    };\n    axios.post(apiUrl, data).then(result => {\n      setShowLoading(false);\n      props.history.push('/show/' + result.data._id);\n    }).catch(error => setShowLoading(false));\n  };\n\n  const onChange = e => {\n    e.persist();\n    setProduct(_objectSpread({}, product, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSubmit = values => {\n    console.log(values);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"reg-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Doggo Registration\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Name\",\n    name: \"name\",\n    ref: register({\n      required: 'Name is required'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, errors.name && errors.name.message)), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"number\",\n    className: \"input\",\n    placeholder: \"Age\",\n    name: \"age\",\n    ref: register({\n      required: 'Age is required, must be within 0-100',\n      min: 0,\n      max: 100\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, errors.age && errors.age.message)), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Description\",\n    name: \"description\",\n    ref: register({\n      required: 'Description is required, up to 100 letters',\n      maxLength: 100\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, errors.description && errors.description.message)), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Doggo id\",\n    name: \"doggoID\",\n    ref: register({\n      required: 'Doggo ID is required',\n      pattern: {\n        value: /(J)(\\d{6})([a-d])/g,\n        message: 'Invalid id format, starts with capital letter J, followed by any 6 digits number, and ends with any lowercase letter from a to d'\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"has-text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, errors.doggoID && errors.doggoID.message)), React.createElement(\"button\", {\n    className: \"button is-primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Submit\"))));\n}\n\nexport default Registration;","map":{"version":3,"sources":["/Users/firnazluztian/Documents/react/Oromico/milestone_1/dogfair_frontend/src/components/Registration.js"],"names":["React","useState","Link","useForm","axios","apiUrl","Registration","props","handleSubmit","register","errors","id","name","description","age","doggo_id","product","setProduct","showLoading","setShowLoading","saveProduct","e","preventDefault","data","parseInt","post","then","result","history","push","_id","catch","error","onChange","persist","target","value","onSubmit","values","console","log","required","message","min","max","maxLength","pattern","doggoID"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useForm} from 'react-hook-form';\nimport axios from 'axios'\n\nconst apiUrl ='https://dogfair.herokuapp.com/api/license_registrations'\n\nfunction Registration (props) {\n  const {handleSubmit, register, errors} = useForm ();\n\n  const [product, setProduct] = useState ({\n    id: '',\n    name: '',\n    description: '',\n    age: 0,\n    doggo_id: '',\n  });\n  const [showLoading, setShowLoading] = useState (false);\n  const saveProduct = e => {\n    setShowLoading (true);\n    e.preventDefault ();\n    const data = {\n      name: product.name,\n      description: product.description,\n      age: parseInt (product.age),\n      doggo_id: product.doggo_id,\n    };\n    axios\n      .post (apiUrl, data)\n      .then (result => {\n        setShowLoading (false);\n        props.history.push ('/show/' + result.data._id);\n      })\n      .catch (error => setShowLoading (false));\n  };\n\n  const onChange = e => {\n    e.persist ();\n    setProduct ({...product, [e.target.name]: e.target.value});\n  };\n  \n  const onSubmit = values => {\n    console.log (values);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"reg-container\">\n        <p>Doggo Registration</p>\n        <form onSubmit={handleSubmit (onSubmit)}>\n\n          <div className=\"column\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Name\"\n              name=\"name\"\n              ref={register ({\n                required: 'Name is required',\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.name && errors.name.message}\n            </p>\n          </div>\n\n          <div className=\"column\">\n            <input\n              type=\"number\"\n              className=\"input\"\n              placeholder=\"Age\"\n              name=\"age\"\n              ref={register ({\n                required: 'Age is required, must be within 0-100',\n                min: 0,\n                max: 100,\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.age && errors.age.message}\n            </p>\n          </div>\n\n          <div className=\"column\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Description\"\n              name=\"description\"\n              ref={register ({\n                required: 'Description is required, up to 100 letters',\n                maxLength: 100,\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.description && errors.description.message}\n            </p>\n          </div>\n\n          <div className=\"column\">\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Doggo id\"\n              name=\"doggoID\"\n              ref={register ({\n                required: 'Doggo ID is required',\n                pattern: {\n                  value: /(J)(\\d{6})([a-d])/g,\n                  message: 'Invalid id format, starts with capital letter J, followed by any 6 digits number, and ends with any lowercase letter from a to d',\n                },\n              })}\n            />\n            <p className=\"has-text-danger\">\n              {errors.doggoID && errors.doggoID.message}\n            </p>\n          </div>\n\n          <button className=\"button is-primary\" type=\"submit\">Submit</button>\n\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Registration;\n"]},"metadata":{},"sourceType":"module"}